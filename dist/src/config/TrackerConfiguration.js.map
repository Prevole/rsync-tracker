{"version":3,"file":"TrackerConfiguration.js","sourceRoot":"","sources":["../../../src/config/TrackerConfiguration.ts"],"names":[],"mappings":";;;;;AAAA,8EAAiF;AACjF,0EAA2E;AAE3E;IAME,YAAY,IAAY,EAAE,MAA+B;QACvD,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;QAElB,IAAI,CAAC,YAAY,GAAG,IAAI,4BAAkB,CAAC,MAAM,CAAC,GAAG,EAAE,MAAM,CAAC,IAAI,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC;QAElF,IAAI,MAAM,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,UAAU,GAAG,IAAI,0BAAgB,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;SACpD;aAAM;YACL,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;SACxB;IACH,CAAC;IAED,IAAI,IAAI;QACN,OAAO,IAAI,CAAC,KAAK,CAAC;IACpB,CAAC;IAED,IAAI,SAAS;QACX,OAAO,IAAI,CAAC,UAAW,CAAC;IAC1B,CAAC;IAED,IAAI,WAAW;QACb,OAAO,IAAI,CAAC,YAAY,CAAC;IAC3B,CAAC;IAED,OAAO;QACL,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,CAAC;QAC5B,OAAO,IAAI,CAAC;IACd,CAAC;IAED,gBAAgB;QACd,OAAO,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC;IACxC,CAAC;IAED,KAAK;QACH,OAAO,IAAI,CAAC,UAAU,KAAK,IAAI,CAAC;IAClC,CAAC;IAED,MAAM;QACJ,OAAO;YACL,IAAI,EAAE,IAAI,CAAC,KAAK;YAChB,KAAK,EAAE,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE;YACjC,GAAG,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,SAAS;SAC5D,CAAC;IACJ,CAAC;CACF;AAlDD,uCAkDC","sourcesContent":["import RsyncConfiguration, { RawRsyncConfiguration } from './RsyncConfiguration';\nimport SshConfiguration, { RawSshConfiguration } from './SshConfiguration';\n\nexport default class TrackerConfiguration {\n  private readonly _name: string;\n\n  private readonly _rsyncConfig: RsyncConfiguration;\n  private readonly _sshConfig: SshConfiguration | null;\n\n  constructor(name: string, config: RawTrackerConfiguration) {\n    this._name = name;\n\n    this._rsyncConfig = new RsyncConfiguration(config.src, config.dest, config.rsync);\n\n    if (config.ssh) {\n      this._sshConfig = new SshConfiguration(config.ssh);\n    } else {\n      this._sshConfig = null;\n    }\n  }\n\n  get name(): string {\n    return this._name;\n  }\n\n  get sshConfig(): SshConfiguration {\n    return this._sshConfig!;\n  }\n\n  get rsyncConfig(): RsyncConfiguration {\n    return this._rsyncConfig;\n  }\n\n  resolve(): TrackerConfiguration {\n    this._rsyncConfig.resolve();\n    return this;\n  }\n\n  shouldCreateDest(): boolean {\n    return this._rsyncConfig.isCreateDest;\n  }\n\n  isSsh(): boolean {\n    return this._sshConfig !== null;\n  }\n\n  toJson(): any {\n    return {\n      name: this._name,\n      rsync: this._rsyncConfig.toJson(),\n      ssh: this._sshConfig ? this._sshConfig.toJson() : undefined\n    };\n  }\n}\n\nexport type RawTrackerConfiguration = {\n  name: string,\n  src: string,\n  dest: string,\n  rsync?: RawRsyncConfiguration,\n  ssh?: RawSshConfiguration\n};\n"]}